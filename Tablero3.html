<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marcador de Baloncesto</title>
    <style>
        @font-face {
            font-family: 'Seven Segment';
            src: url('https://cdn.jsdelivr.net/npm/seven-segment-font@1.0.0/Seven%20Segment.ttf') format('truetype');
        }
        body {
            font-family: 'Seven Segment', monospace;
            background-color: #1a1a1a;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .scoreboard {
            background-color: #333;
            border: 2px solid #444;
            padding: 30px;
            border-radius: 10px;
        }
        .teams {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .team {
            text-align: center;
        }
        .team-name {
            font-size: 24px;
            color: #fff;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.7);
        }
        .score {
            font-size: 72px;
            font-weight: bold;
            color: #ff6600;
            text-shadow: 0 0 10px rgba(255, 102, 0, 0.7);
        }
        .timer {
            text-align: center;
            font-size: 48px;
            color: #00ff00;
            text-shadow: 0 0 10px rgba(0, 255, 0, 0.7);
            margin-bottom: 20px;
        }
        .period {
            text-align: center;
            font-size: 24px;
            margin-bottom: 20px;
            color: #ffff00;
            text-shadow: 0 0 5px rgba(255, 255, 0, 0.7);
        }
        .fouls {
            display: flex;
            justify-content: space-between;
            font-size: 18px;
            color: #ff0000;
            text-shadow: 0 0 5px rgba(255, 0, 0, 0.7);
        }
        .players {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .player-list {
            width: 45%;
        }
        .player {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 14px;
        }
        .dots {
            display: flex;
        }
        .dot {
            width: 10px;
            height: 10px;
            background-color: #0f0;
            border-radius: 50%;
            margin-right: 2px;
        }
    </style>
</head>
<body>
    <div class="scoreboard">
        <div class="teams">
            <div class="team">
                <div class="team-name">LOCAL</div>
                <div id="local-score" class="score">0</div>
            </div>
            <div class="team">
                <div class="team-name">VISITANTE</div>
                <div id="visitor-score" class="score">0</div>
            </div>
        </div>
        <div id="timer" class="timer">00:00</div>
        <div id="period" class="period">PERIODO 0</div>
        <div class="fouls">
            <div id="local-fouls">FALTAS 0</div>
            <div id="visitor-fouls">FALTAS 0</div>
        </div>
        <div class="players">
            <div id="local-players" class="player-list">
                <!-- Los jugadores locales se agregarán aquí dinámicamente -->
            </div>
            <div id="visitor-players" class="player-list">
                <!-- Los jugadores visitantes se agregarán aquí dinámicamente -->
            </div>
        </div>
    </div>

    <script>
        // Función para obtener datos desde el archivo JSON
        async function fetchData() {
            try {
                //const response = await fetch('https://github.com/elconde01/tablero/blob/main/score.json'); // Reemplaza con la ruta correcta
                const response = await fetch('https://elconde01.github.io/tablero/master/score.json'); // Reemplaza con la ruta correcta
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Error al leer el archivo:', error);
                return [];
            }
        }

        async function updateScoreboard() {
            const data = await fetchData();
            if (data.length > 0) {
                const gameData = data[0]; // Accede al primer conjunto de datos
 	
                document.getElementById('local-score').textContent = gameData.localScore;
                document.getElementById('visitor-score').textContent = gameData.visitorScore;
                document.getElementById('timer').textContent = gameData.timer;
                document.getElementById('period').textContent = `PERIODO ${gameData.period}`;
                document.getElementById('local-fouls').textContent = `FALTAS ${gameData.localFouls}`;
                document.getElementById('visitor-fouls').textContent = `FALTAS ${gameData.visitorFouls}`;

                updatePlayerList('local-players', gameData.localPlayers);
                updatePlayerList('visitor-players', gameData.visitorPlayers);
            }

            // Vuelve a actualizar después de 5 segundos
            setTimeout(updateScoreboard, 5000);
        }

        function updatePlayerList(elementId, players) {
            const playerList = document.getElementById(elementId);
            playerList.innerHTML = ''; // Limpia la lista existente

            players.forEach(player => {
                const playerElement = document.createElement('div');
                playerElement.className = 'player';
                playerElement.innerHTML = `
                    <span>${player.number} ${player.name}</span>
                    <div class="dots">
                        ${Array.from({ length: player.points }, () => '<div class="dot"></div>').join('')}
                    </div>
                `;
                playerList.appendChild(playerElement);
            });
        }

        // Inicia la actualización del marcador
        updateScoreboard();
    </script>
</body>
</html>
